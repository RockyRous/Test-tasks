
# Контроль плодов с деревьев Агафьи Алексеевны

Этот проект позволяет записывать и управлять данными о количестве плодов с деревьев в интерактивном веб-приложении на базе [Streamlit](https://streamlit.io/). Приложение также предоставляет функции для редактирования данных, удаления записей и визуализации данных с помощью графиков.

Вы можете использовать сервис по [этой ссылке](https://rockyrous-test-tasks-03-samoletmain-k3wbnx.streamlit.app/) или установить его себе локально по инструкции ниже.

## Установка и запуск

1. **Клонируйте репозиторий**

    ```bash
    git clone https://github.com/ваш-репозиторий.git
    cd ваш-репозиторий
    ```

### Запуск через Docker
2. **Соберите Docker-образ**

   ```bash
   docker build -t my-name-app .
   ```
   
3. **Запустите контейнер**

   ```bash
   docker run -p 8501:8501 my-name-app
   ```

### Прямой локальный запуск
2. **Создайте и активируйте виртуальное окружение**

    ```bash
    python -m venv venv
    source venv/bin/activate  # Для Windows: venv\Scripts\activate
    ```

3. **Установите зависимости**

    Убедитесь, что у вас установлен файл `requirements.txt` с необходимыми пакетами. Установите их с помощью pip:

    ```bash
    pip install -r requirements.txt
    ```

4. **Запуск приложения**

   Запустите приложение с помощью команды:

   ```bash
   streamlit run main.py
   ```

## Описание

### Функции

- **Запись новых данных**: Введите день недели, название дерева и количество плодов. Средняя температура за день подтянеться сама. Данные проверяются на корректность перед добавлением.
- **Редактирование данных**: В таблице вы можете редактировать существующие записи и удалять их с помощью чекбоксов.
- **Графики и аналитика**: Приложение отображает графики и проводит аналитический анализ на основе введенных данных.

### Примечания

- Температура берется из бесплатного сервиса ["Open-Meteo"](https://open-meteo.com/) без API-ключей.
- В таблице рассчитывается средняя температура за весь день, указанного дня недели.
- Названия деревьев не могут содержать цифры и должны быть короче 50 символов.
- Количество плодов должно быть натуральным числом или нулём.

## Зависимости

В файле `requirements.txt` указаны все необходимые библиотеки для работы приложения. Основные из них:

- `streamlit`
- `pandas`

## Задание
![Screenshot_3](https://github.com/user-attachments/assets/7f2d2bc7-b491-4a89-992b-6e24e2dd131e)

## Декомпозиция задачи (чек-лист):
- [x] GUI streamlit
- [x] Есть таблица со столбцами ("День недели", "Дерево", "Кол-во плодов")
- [x] Есть функционал добавления записей в таблицу через GUI
- [x] Есть функционал редактирования записей в таблице через GUI
- [x] Есть функционал удаления записей в таблице через GUI
- [x] Данные отображаются в таблице
- [x] Таблицу можно сортировать по столбцам
- [x] Данные в таблице валидируются
- [x] Есть дополнительные графики по таблице
### Дополнительные задачи:
- [x] Интегрировать сервис получения данных о температуре
- [x] Автоматически вставлять среднюю температуру за указанный день недели в таблицу
- [x] *Сделать линейный график температуры
- [x] Переделал хранение данных с csv в SQLlite (SQLalchemy)
- [x] Добавил Docker-контейнер